---
title: Docker에 대해 알아보기
layout: post
date: 2024-04-23 17:00 +0900
last_modified_at: 2024-04-24 19:00:00 +0900
tag: [Docker]
toc: true
---

### 도커

어플리케이션을 개발하고, 이동하고, 실행하는 것을 돕는 오픈 플랫폼

### 특징

- 어플리케이션을 infrastucture와 나누어서 소프트웨어 전송을 빠르게 할 수 있다.
- 어플리케이션을 관리하는 것과 같은 방식으로 infrastructure를 관리할 수 있다.
- 개발단계에서의 코드 작성과 실행 시간을 줄일 수 있다.

### 용어

- host : docker 이용자의 메인 OS/컴퓨터
- docker hub : app store와 같은 역할을 한다. 사용하고자 하는 image(program)을 내려받을 수 있음
- image : 프로그램의 역할. 특정 과제를 수행하는 코드와 그 요구사항을 담고 있다. 명령어 `run`을 통해 container를 생성가능
- container : image를 실행하는 역할. 실행하는데에 필요한 코드, 요구사항들을 얻으며, 동시에 작업을 실행하고 끌 수 있다.<br>
하나의 image에서 여러개의 container를 생성할 수 있다.

### 명령어

`docker pull [OPTIONS] NAME[:TAG|@IGEST]`<br>
docker hub의 resgistry에서 image를 내려받는 명령어

`docker images [OPTIONS] [REPOSITORY[:TAG]]`<br>
docker에 다운로드 된 image들의 목록을 볼 수 있음. image가 잘 설치되었는지 확인해볼 수 있다.

`docker run [OPTIONS] IMAGE`<br>
image를 실행 (Container 생성) 명령어, `--name [이름]` 옵션을 많이 사용한다.<br>
`-p HOST_PORT:CONTAINER_PORT` 옵션을 통해 host와 container의 네트워크 포트를 연결할 수 있다.

`docker stop [OPTIONS] CONTAINER`<br>
실행 중인 container를 중지하는 명령어

`docker ps [OPTIONS]`<br>
현재 실행중인 container의 상태를 확인하는 명령어<br>container의 실행 및 중지 여부를 확인할 때 사용한다.<br>`-a`를 옵션으로 넣게 되면, 모든 container의 상태를 확인할 수 있다.

`docker logs [OPTIONS] CONTAINER`<br>
container에 대한 log를 확인하는 명령어<br>
`-f`를 옵션으로 주게 되면, 실시간으로 container의 로그를 확인할 수 있다.

`docker rm [OPTIONS] CONTAINER`<br>
container를 삭제하는 명령어<br>
실행중인 container를 삭제하면 에러가 발생하지만, `--force` 옵션을 통해 강제 삭제가 가능하다.

`docker exec [OPTIONS] CONTAINER COMMAND [ARGS]`<br>
container 내의 코드를 실행하는 명령어<br>
`-it` 옵션을 통해 항상 연결을 유지할 수 있다. 연결 해제는 `exit` 명령어를 사용한다.<br>
이후 명령어에는 `/bin/bash` 혹은 `/bin/sh`을 실행하면 bash shell이나 shell이 실행되어 container 내의 파일 작업을 가능하게 한다.

#### 파일 수정은 host에서, 파일 배포는 container에서 하는 방법

`docker run` 명령어를 실행할 때에 OPTION에 `-v` 옵션을 넣어야한다.

ex.<br>
`docker run -p [호스트포트번호:컨테이너포트번호] -v [container에 연결하고자하는 host의 폴더:host에 연결하고자하는 container의 폴더] [container 이름]